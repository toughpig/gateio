# Gate.io è‡ªåŠ¨åŒ–äº¤æ˜“ç³»ç»Ÿè®¾è®¡æŒ‡å—

## æ¦‚è¿°

æœ¬æ–‡æ¡£è®¾è®¡ä¸€å¥—å®Œæ•´çš„è‡ªåŠ¨åŒ–äº¤æ˜“ç³»ç»Ÿï¼ŒåŸºäºGate.io APIå®ç°ä»å¸‚åœºæ•°æ®è·å–ã€ç­–ç•¥åˆ†æã€äº¤æ˜“å†³ç­–åˆ°æ‰§è¡Œçš„å…¨è‡ªåŠ¨åŒ–æµç¨‹ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•°æ®è·å–æ¨¡å—   â”‚â”€â”€â”€â–¶â”‚   ç­–ç•¥åˆ†ææ¨¡å—   â”‚â”€â”€â”€â–¶â”‚   äº¤æ˜“æ‰§è¡Œæ¨¡å—   â”‚
â”‚  Data Collector â”‚    â”‚ Strategy Engine â”‚    â”‚ Trade Executor  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•°æ®å­˜å‚¨æ¨¡å—   â”‚    â”‚   é£é™©æ§åˆ¶æ¨¡å—   â”‚    â”‚   ç›‘æ§æ—¥å¿—æ¨¡å—   â”‚
â”‚  Data Storage   â”‚    â”‚  Risk Manager   â”‚    â”‚ Monitor & Log   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   é…ç½®ç®¡ç†æ¨¡å—   â”‚
                        â”‚ Config Manager  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

1. **æ•°æ®è·å–æ¨¡å—**: å®æ—¶è·å–å¸‚åœºæ•°æ®
2. **ç­–ç•¥åˆ†ææ¨¡å—**: åŸºäºæ•°æ®è¿›è¡Œäº¤æ˜“ç­–ç•¥åˆ†æ
3. **äº¤æ˜“æ‰§è¡Œæ¨¡å—**: æ‰§è¡Œäº¤æ˜“å†³ç­–
4. **é£é™©æ§åˆ¶æ¨¡å—**: æ§åˆ¶äº¤æ˜“é£é™©
5. **ç›‘æ§æ—¥å¿—æ¨¡å—**: ç³»ç»Ÿç›‘æ§å’Œæ—¥å¿—è®°å½•
6. **æ•°æ®å­˜å‚¨æ¨¡å—**: æ•°æ®æŒä¹…åŒ–å­˜å‚¨
7. **é…ç½®ç®¡ç†æ¨¡å—**: ç³»ç»Ÿé…ç½®å’Œå‚æ•°ç®¡ç†

## ğŸ“Š è¯¦ç»†æ¨¡å—è®¾è®¡

### 1. æ•°æ®è·å–æ¨¡å— (DataCollector)

#### åŠŸèƒ½èŒè´£
- å®æ—¶è·å–è®¢å•ç°¿æ•°æ®
- è·å–Kçº¿/èœ¡çƒ›å›¾æ•°æ®
- è·å–å¸‚åœºæˆäº¤æ•°æ®
- è·å–è´¦æˆ·ä½™é¢ä¿¡æ¯

#### å®ç°è®¾è®¡

```python
class MarketDataCollector:
    """å¸‚åœºæ•°æ®æ”¶é›†å™¨"""
    
    def __init__(self, api_client, config):
        self.api_client = api_client
        self.config = config
        self.data_cache = {}
        
    def get_orderbook(self, currency_pair, depth=20):
        """è·å–è®¢å•ç°¿æ•°æ®"""
        pass
        
    def get_ticker(self, currency_pair):
        """è·å–è¡Œæƒ…æ•°æ®"""
        pass
        
    def get_recent_trades(self, currency_pair, limit=100):
        """è·å–æœ€è¿‘æˆäº¤è®°å½•"""
        pass
        
    def get_klines(self, currency_pair, interval='1m', limit=100):
        """è·å–Kçº¿æ•°æ®"""
        pass
        
    def get_account_balance(self):
        """è·å–è´¦æˆ·ä½™é¢"""
        pass
        
    def start_realtime_collection(self, currency_pairs):
        """å¯åŠ¨å®æ—¶æ•°æ®æ”¶é›†"""
        pass
```

#### æ•°æ®ç»“æ„è®¾è®¡

```python
@dataclass
class MarketData:
    """å¸‚åœºæ•°æ®ç»“æ„"""
    timestamp: float
    currency_pair: str
    orderbook: dict
    ticker: dict
    recent_trades: list
    klines: list
    
@dataclass
class AccountData:
    """è´¦æˆ·æ•°æ®ç»“æ„"""
    timestamp: float
    balances: dict
    total_value_btc: float
    total_value_usd: float
```

### 2. ç­–ç•¥åˆ†ææ¨¡å— (StrategyEngine)

#### åŠŸèƒ½èŒè´£
- æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
- äº¤æ˜“ä¿¡å·ç”Ÿæˆ
- å¤šç­–ç•¥æ”¯æŒ
- ç­–ç•¥å›æµ‹

#### ç­–ç•¥æ¥å£è®¾è®¡

```python
from abc import ABC, abstractmethod

class TradingStrategy(ABC):
    """äº¤æ˜“ç­–ç•¥åŸºç±»"""
    
    def __init__(self, config):
        self.config = config
        
    @abstractmethod
    def analyze(self, market_data: MarketData, account_data: AccountData) -> 'TradingSignal':
        """åˆ†æå¸‚åœºæ•°æ®ï¼Œç”Ÿæˆäº¤æ˜“ä¿¡å·"""
        pass
        
    @abstractmethod
    def get_strategy_name(self) -> str:
        """è·å–ç­–ç•¥åç§°"""
        pass

class TradingSignal:
    """äº¤æ˜“ä¿¡å·"""
    def __init__(self, action, currency_pair, price, quantity, signal_strength=0.0):
        self.action = action  # 'BUY', 'SELL', 'HOLD'
        self.currency_pair = currency_pair
        self.price = price
        self.quantity = quantity
        self.signal_strength = signal_strength  # 0.0-1.0
        self.timestamp = time.time()
        self.reason = ""  # äº¤æ˜“åŸå› è¯´æ˜
```

#### å…·ä½“ç­–ç•¥å®ç°ç¤ºä¾‹

```python
class GridTradingStrategy(TradingStrategy):
    """ç½‘æ ¼äº¤æ˜“ç­–ç•¥"""
    
    def __init__(self, config):
        super().__init__(config)
        self.grid_size = config.get('grid_size', 0.01)  # ç½‘æ ¼å¤§å°1%
        self.max_orders = config.get('max_orders', 10)
        
    def analyze(self, market_data: MarketData, account_data: AccountData) -> TradingSignal:
        current_price = float(market_data.ticker['last'])
        
        # ç½‘æ ¼äº¤æ˜“é€»è¾‘
        if self.should_buy(current_price, account_data):
            return TradingSignal('BUY', market_data.currency_pair, 
                               current_price * 0.999, self.calculate_quantity())
        elif self.should_sell(current_price, account_data):
            return TradingSignal('SELL', market_data.currency_pair,
                               current_price * 1.001, self.calculate_quantity())
        else:
            return TradingSignal('HOLD', market_data.currency_pair, current_price, 0)
            
class RSIStrategy(TradingStrategy):
    """RSIæŒ‡æ ‡ç­–ç•¥"""
    
    def __init__(self, config):
        super().__init__(config)
        self.rsi_period = config.get('rsi_period', 14)
        self.oversold_threshold = config.get('oversold', 30)
        self.overbought_threshold = config.get('overbought', 70)
        
    def calculate_rsi(self, prices):
        """è®¡ç®—RSIæŒ‡æ ‡"""
        # RSIè®¡ç®—é€»è¾‘
        pass
        
    def analyze(self, market_data: MarketData, account_data: AccountData) -> TradingSignal:
        # è·å–ä»·æ ¼æ•°æ®
        prices = [float(kline[4]) for kline in market_data.klines]  # æ”¶ç›˜ä»·
        rsi = self.calculate_rsi(prices)
        
        current_price = float(market_data.ticker['last'])
        
        if rsi < self.oversold_threshold:
            # è¶…å–ï¼Œä¹°å…¥ä¿¡å·
            return TradingSignal('BUY', market_data.currency_pair, 
                               current_price, self.calculate_quantity())
        elif rsi > self.overbought_threshold:
            # è¶…ä¹°ï¼Œå–å‡ºä¿¡å·
            return TradingSignal('SELL', market_data.currency_pair,
                               current_price, self.calculate_quantity())
        else:
            return TradingSignal('HOLD', market_data.currency_pair, current_price, 0)
```

### 3. äº¤æ˜“æ‰§è¡Œæ¨¡å— (TradeExecutor)

#### åŠŸèƒ½èŒè´£
- æ‰§è¡Œäº¤æ˜“ä¿¡å·
- è®¢å•ç®¡ç†
- éƒ¨åˆ†æˆäº¤å¤„ç†
- è®¢å•çŠ¶æ€è·Ÿè¸ª

#### å®ç°è®¾è®¡

```python
class TradeExecutor:
    """äº¤æ˜“æ‰§è¡Œå™¨"""
    
    def __init__(self, api_client, risk_manager):
        self.api_client = api_client
        self.risk_manager = risk_manager
        self.active_orders = {}
        self.order_history = []
        
    def execute_signal(self, signal: TradingSignal) -> bool:
        """æ‰§è¡Œäº¤æ˜“ä¿¡å·"""
        # é£é™©æ£€æŸ¥
        if not self.risk_manager.check_signal(signal):
            logger.warning(f"Risk check failed for signal: {signal}")
            return False
            
        if signal.action == 'BUY':
            return self.place_buy_order(signal)
        elif signal.action == 'SELL':
            return self.place_sell_order(signal)
        else:
            return True  # HOLDä¿¡å·
            
    def place_buy_order(self, signal: TradingSignal) -> bool:
        """ä¸‹ä¹°å•"""
        try:
            order = gate_api.Order(
                currency_pair=signal.currency_pair,
                side="buy",
                amount=str(signal.quantity),
                price=str(signal.price),
                type="limit"
            )
            
            result = self.api_client.create_order(order)
            self.active_orders[result.id] = {
                'order': result,
                'signal': signal,
                'timestamp': time.time()
            }
            
            logger.info(f"Buy order placed: {result.id}")
            return True
            
        except Exception as e:
            logger.error(f"Failed to place buy order: {e}")
            return False
            
    def place_sell_order(self, signal: TradingSignal) -> bool:
        """ä¸‹å–å•"""
        # ç±»ä¼¼ä¹°å•é€»è¾‘
        pass
        
    def check_order_status(self):
        """æ£€æŸ¥è®¢å•çŠ¶æ€"""
        for order_id, order_info in list(self.active_orders.items()):
            try:
                order = self.api_client.get_order(order_id, order_info['signal'].currency_pair)
                
                if order.status == 'closed':
                    # è®¢å•å®Œå…¨æˆäº¤
                    self.handle_order_filled(order_id, order)
                elif order.status == 'cancelled':
                    # è®¢å•è¢«å–æ¶ˆ
                    self.handle_order_cancelled(order_id, order)
                    
            except Exception as e:
                logger.error(f"Failed to check order {order_id}: {e}")
                
    def handle_order_filled(self, order_id, order):
        """å¤„ç†è®¢å•æˆäº¤"""
        order_info = self.active_orders.pop(order_id)
        self.order_history.append({
            'order': order,
            'signal': order_info['signal'],
            'filled_time': time.time()
        })
        
        logger.info(f"Order {order_id} filled")
        
    def cancel_old_orders(self, max_age_seconds=3600):
        """å–æ¶ˆè¿‡æœŸè®¢å•"""
        current_time = time.time()
        
        for order_id, order_info in list(self.active_orders.items()):
            if current_time - order_info['timestamp'] > max_age_seconds:
                try:
                    self.api_client.cancel_order(order_id, order_info['signal'].currency_pair)
                    logger.info(f"Cancelled old order: {order_id}")
                except Exception as e:
                    logger.error(f"Failed to cancel order {order_id}: {e}")
```

### 4. é£é™©æ§åˆ¶æ¨¡å— (RiskManager)

#### åŠŸèƒ½èŒè´£
- äº¤æ˜“å‰é£é™©æ£€æŸ¥
- ä»“ä½ç®¡ç†
- æ­¢æŸæ­¢ç›ˆ
- æœ€å¤§æŸå¤±æ§åˆ¶

#### å®ç°è®¾è®¡

```python
class RiskManager:
    """é£é™©ç®¡ç†å™¨"""
    
    def __init__(self, config):
        self.config = config
        self.max_position_ratio = config.get('max_position_ratio', 0.1)  # æœ€å¤§ä»“ä½æ¯”ä¾‹10%
        self.max_daily_loss = config.get('max_daily_loss', 0.05)  # æœ€å¤§æ—¥æŸå¤±5%
        self.stop_loss_ratio = config.get('stop_loss_ratio', 0.02)  # æ­¢æŸ2%
        self.take_profit_ratio = config.get('take_profit_ratio', 0.04)  # æ­¢ç›ˆ4%
        
    def check_signal(self, signal: TradingSignal) -> bool:
        """æ£€æŸ¥äº¤æ˜“ä¿¡å·æ˜¯å¦ç¬¦åˆé£é™©è¦æ±‚"""
        checks = [
            self.check_position_size(signal),
            self.check_daily_loss(),
            self.check_balance_sufficient(signal),
            self.check_price_reasonable(signal)
        ]
        
        return all(checks)
        
    def check_position_size(self, signal: TradingSignal) -> bool:
        """æ£€æŸ¥ä»“ä½å¤§å°"""
        # è®¡ç®—å½“å‰ä»“ä½
        # æ£€æŸ¥æ–°äº¤æ˜“æ˜¯å¦ä¼šè¶…è¿‡æœ€å¤§ä»“ä½é™åˆ¶
        pass
        
    def check_daily_loss(self) -> bool:
        """æ£€æŸ¥æ—¥æŸå¤±é™åˆ¶"""
        # è®¡ç®—å½“æ—¥æŸå¤±
        # æ£€æŸ¥æ˜¯å¦è¶…è¿‡æœ€å¤§æ—¥æŸå¤±é™åˆ¶
        pass
        
    def check_balance_sufficient(self, signal: TradingSignal) -> bool:
        """æ£€æŸ¥ä½™é¢æ˜¯å¦å……è¶³"""
        pass
        
    def check_price_reasonable(self, signal: TradingSignal) -> bool:
        """æ£€æŸ¥ä»·æ ¼æ˜¯å¦åˆç†"""
        # æ£€æŸ¥ä»·æ ¼æ˜¯å¦åç¦»å¸‚åœºä»·æ ¼è¿‡å¤š
        pass
        
    def should_stop_loss(self, position, current_price) -> bool:
        """æ£€æŸ¥æ˜¯å¦åº”è¯¥æ­¢æŸ"""
        pass
        
    def should_take_profit(self, position, current_price) -> bool:
        """æ£€æŸ¥æ˜¯å¦åº”è¯¥æ­¢ç›ˆ"""
        pass
```

### 5. ç›‘æ§æ—¥å¿—æ¨¡å— (MonitorLogger)

#### åŠŸèƒ½èŒè´£
- ç³»ç»ŸçŠ¶æ€ç›‘æ§
- äº¤æ˜“æ—¥å¿—è®°å½•
- æ€§èƒ½æŒ‡æ ‡ç»Ÿè®¡
- å¼‚å¸¸å‘Šè­¦

#### å®ç°è®¾è®¡

```python
import logging
from datetime import datetime

class TradingLogger:
    """äº¤æ˜“æ—¥å¿—å™¨"""
    
    def __init__(self, log_dir="logs"):
        self.log_dir = log_dir
        self.setup_loggers()
        
    def setup_loggers(self):
        """è®¾ç½®æ—¥å¿—å™¨"""
        # ç³»ç»Ÿæ—¥å¿—
        self.system_logger = logging.getLogger('system')
        # äº¤æ˜“æ—¥å¿—
        self.trade_logger = logging.getLogger('trade')
        # ç­–ç•¥æ—¥å¿—
        self.strategy_logger = logging.getLogger('strategy')
        
    def log_trade(self, action, currency_pair, price, quantity, reason=""):
        """è®°å½•äº¤æ˜“"""
        self.trade_logger.info(f"{action} {quantity} {currency_pair} @ {price}, Reason: {reason}")
        
    def log_strategy_signal(self, strategy_name, signal: TradingSignal):
        """è®°å½•ç­–ç•¥ä¿¡å·"""
        self.strategy_logger.info(f"{strategy_name}: {signal.action} {signal.currency_pair} @ {signal.price}")

class PerformanceMonitor:
    """æ€§èƒ½ç›‘æ§å™¨"""
    
    def __init__(self):
        self.start_time = time.time()
        self.trades_count = 0
        self.profit_loss = 0.0
        self.win_rate = 0.0
        
    def update_performance(self, trade_result):
        """æ›´æ–°æ€§èƒ½æŒ‡æ ‡"""
        pass
        
    def get_performance_report(self):
        """è·å–æ€§èƒ½æŠ¥å‘Š"""
        return {
            'runtime': time.time() - self.start_time,
            'trades_count': self.trades_count,
            'total_pnl': self.profit_loss,
            'win_rate': self.win_rate
        }
```

### 6. é…ç½®ç®¡ç†æ¨¡å— (ConfigManager)

#### åŠŸèƒ½èŒè´£
- ç³»ç»Ÿé…ç½®ç®¡ç†
- ç­–ç•¥å‚æ•°é…ç½®
- è¿è¡Œæ—¶é…ç½®æ›´æ–°

#### é…ç½®æ–‡ä»¶ç¤ºä¾‹

```yaml
# trading_config.yaml
system:
  log_level: INFO
  data_update_interval: 5  # ç§’
  max_concurrent_orders: 10
  
api:
  base_url: "https://api.gateio.ws/api/v4"
  timeout: 30
  
risk_management:
  max_position_ratio: 0.1
  max_daily_loss: 0.05
  stop_loss_ratio: 0.02
  take_profit_ratio: 0.04
  
trading_pairs:
  - BTC_USDT
  - ETH_USDT
  - BNB_USDT
  
strategies:
  grid_trading:
    enabled: true
    grid_size: 0.01
    max_orders: 10
    base_quantity: 0.001
    
  rsi_strategy:
    enabled: true
    rsi_period: 14
    oversold: 30
    overbought: 70
    quantity: 0.001
```

## ğŸš€ ä¸»ç¨‹åºè®¾è®¡

### ä¸»ç¨‹åºæ¶æ„

```python
class AutoTradingSystem:
    """è‡ªåŠ¨äº¤æ˜“ç³»ç»Ÿä¸»ç¨‹åº"""
    
    def __init__(self, config_file):
        self.config = self.load_config(config_file)
        self.setup_components()
        self.running = False
        
    def setup_components(self):
        """åˆå§‹åŒ–å„ä¸ªç»„ä»¶"""
        # åˆå§‹åŒ–APIå®¢æˆ·ç«¯
        self.api_client = self.create_api_client()
        
        # åˆå§‹åŒ–å„ä¸ªæ¨¡å—
        self.data_collector = MarketDataCollector(self.api_client, self.config)
        self.risk_manager = RiskManager(self.config['risk_management'])
        self.trade_executor = TradeExecutor(self.api_client, self.risk_manager)
        self.logger = TradingLogger()
        self.monitor = PerformanceMonitor()
        
        # åˆå§‹åŒ–ç­–ç•¥
        self.strategies = self.load_strategies()
        
    def load_strategies(self):
        """åŠ è½½äº¤æ˜“ç­–ç•¥"""
        strategies = []
        strategy_configs = self.config.get('strategies', {})
        
        if strategy_configs.get('grid_trading', {}).get('enabled'):
            strategies.append(GridTradingStrategy(strategy_configs['grid_trading']))
            
        if strategy_configs.get('rsi_strategy', {}).get('enabled'):
            strategies.append(RSIStrategy(strategy_configs['rsi_strategy']))
            
        return strategies
        
    def run(self):
        """è¿è¡Œä¸»å¾ªç¯"""
        self.running = True
        self.logger.system_logger.info("Trading system started")
        
        try:
            while self.running:
                # 1. è·å–å¸‚åœºæ•°æ®
                market_data = self.data_collector.collect_data(
                    self.config['trading_pairs']
                )
                
                # 2. è·å–è´¦æˆ·æ•°æ®
                account_data = self.data_collector.get_account_balance()
                
                # 3. æ‰§è¡Œç­–ç•¥åˆ†æ
                for strategy in self.strategies:
                    for currency_pair in self.config['trading_pairs']:
                        pair_market_data = market_data[currency_pair]
                        signal = strategy.analyze(pair_market_data, account_data)
                        
                        # 4. è®°å½•ç­–ç•¥ä¿¡å·
                        self.logger.log_strategy_signal(
                            strategy.get_strategy_name(), signal
                        )
                        
                        # 5. æ‰§è¡Œäº¤æ˜“
                        if signal.action != 'HOLD':
                            success = self.trade_executor.execute_signal(signal)
                            if success:
                                self.logger.log_trade(
                                    signal.action, signal.currency_pair,
                                    signal.price, signal.quantity, signal.reason
                                )
                
                # 6. æ£€æŸ¥è®¢å•çŠ¶æ€
                self.trade_executor.check_order_status()
                
                # 7. å–æ¶ˆè¿‡æœŸè®¢å•
                self.trade_executor.cancel_old_orders()
                
                # 8. æ›´æ–°æ€§èƒ½ç›‘æ§
                performance = self.monitor.get_performance_report()
                self.logger.system_logger.info(f"Performance: {performance}")
                
                # 9. ç­‰å¾…ä¸‹ä¸€è½®
                time.sleep(self.config['system']['data_update_interval'])
                
        except KeyboardInterrupt:
            self.logger.system_logger.info("Trading system stopped by user")
        except Exception as e:
            self.logger.system_logger.error(f"Trading system error: {e}")
        finally:
            self.cleanup()
            
    def stop(self):
        """åœæ­¢ç³»ç»Ÿ"""
        self.running = False
        
    def cleanup(self):
        """æ¸…ç†èµ„æº"""
        # å–æ¶ˆæ‰€æœ‰æœªå®Œæˆè®¢å•
        self.trade_executor.cancel_all_orders()
        self.logger.system_logger.info("Trading system cleaned up")

# ç¨‹åºå…¥å£
if __name__ == "__main__":
    system = AutoTradingSystem("trading_config.yaml")
    system.run()
```

## ğŸ›¡ï¸ å®‰å…¨ä¸é£é™©è€ƒè™‘

### 1. APIå®‰å…¨
- ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨APIå¯†é’¥
- è®¾ç½®APIæƒé™ç™½åå•
- å®šæœŸè½®æ¢APIå¯†é’¥

### 2. èµ„é‡‘å®‰å…¨
- è®¾ç½®æœ€å¤§æŠ•èµ„é‡‘é¢é™åˆ¶
- å®æ–½ä¸¥æ ¼çš„æ­¢æŸæœºåˆ¶
- å¤šé‡é£é™©æ£€æŸ¥

### 3. ç³»ç»Ÿå®‰å…¨
- å¼‚å¸¸å¤„ç†å’Œæ•…éšœæ¢å¤
- æ•°æ®å¤‡ä»½å’Œæ¢å¤
- ç³»ç»Ÿç›‘æ§å’Œå‘Šè­¦

### 4. æµ‹è¯•ç­–ç•¥
- å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
- ä½¿ç”¨å°é¢èµ„é‡‘è¿›è¡Œå®ç›˜æµ‹è¯•
- é€æ­¥å¢åŠ æŠ•èµ„é‡‘é¢

## ğŸ“ˆ éƒ¨ç½²ä¸ç›‘æ§

### 1. éƒ¨ç½²å»ºè®®
- ä½¿ç”¨äº‘æœåŠ¡å™¨ç¡®ä¿ç¨³å®šæ€§
- é…ç½®è‡ªåŠ¨é‡å¯æœºåˆ¶
- è®¾ç½®æ•°æ®åº“å¤‡ä»½

### 2. ç›‘æ§æŒ‡æ ‡
- ç³»ç»Ÿè¿è¡ŒçŠ¶æ€
- äº¤æ˜“æˆåŠŸç‡
- ç›ˆäºç»Ÿè®¡
- é£é™©æŒ‡æ ‡

### 3. å‘Šè­¦æœºåˆ¶
- ç³»ç»Ÿå¼‚å¸¸å‘Šè­¦
- é‡å¤§æŸå¤±å‘Šè­¦
- ç½‘ç»œè¿æ¥å‘Šè­¦

## ğŸ”„ æ‰©å±•å’Œä¼˜åŒ–

### 1. ç­–ç•¥æ‰©å±•
- æœºå™¨å­¦ä¹ ç­–ç•¥
- å¤šå› å­æ¨¡å‹
- å¥—åˆ©ç­–ç•¥

### 2. æ€§èƒ½ä¼˜åŒ–
- å¼‚æ­¥å¤„ç†
- æ•°æ®ç¼“å­˜
- å¹¶å‘äº¤æ˜“

### 3. åŠŸèƒ½å¢å¼º
- Webç•Œé¢ç›‘æ§
- ç§»åŠ¨ç«¯é€šçŸ¥
- ç¤¾äº¤äº¤æ˜“ä¿¡å·

## æ€»ç»“

è¿™å¥—è‡ªåŠ¨åŒ–äº¤æ˜“ç³»ç»Ÿè®¾è®¡å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

1. **æ¨¡å—åŒ–è®¾è®¡**: å„æ¨¡å—èŒè´£æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
2. **é£é™©å¯æ§**: å¤šå±‚é£é™©æ§åˆ¶æœºåˆ¶ï¼Œä¿æŠ¤èµ„é‡‘å®‰å…¨
3. **ç­–ç•¥çµæ´»**: æ”¯æŒå¤šç§äº¤æ˜“ç­–ç•¥ï¼Œæ˜“äºæ·»åŠ æ–°ç­–ç•¥
4. **ç›‘æ§å®Œå–„**: å®Œæ•´çš„æ—¥å¿—å’Œç›‘æ§ç³»ç»Ÿ
5. **é…ç½®å‹å¥½**: çµæ´»çš„é…ç½®ç®¡ç†ï¼Œæ”¯æŒè¿è¡Œæ—¶è°ƒæ•´

å»ºè®®æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®æ–½ï¼š

1. å…ˆå®ç°åŸºç¡€çš„æ•°æ®è·å–å’Œç®€å•ç­–ç•¥
2. é€æ­¥å®Œå–„é£é™©æ§åˆ¶æœºåˆ¶
3. åœ¨æµ‹è¯•ç¯å¢ƒå……åˆ†éªŒè¯
4. å°é¢èµ„é‡‘å®ç›˜æµ‹è¯•
5. é€æ­¥ä¼˜åŒ–å’Œæ‰©å±•åŠŸèƒ½

è®°ä½ï¼š**è‡ªåŠ¨åŒ–äº¤æ˜“æœ‰é£é™©ï¼ŒæŠ•èµ„éœ€è°¨æ…ï¼** 